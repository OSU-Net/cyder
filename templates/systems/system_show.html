{% extends "jinja_base.html" %}
{% block subtitle %} - {{ system.hostname }} - show{% endblock %}
{% block content %}
<div>
<dl class="show">
<dt>Host name:</dt>
<dd>{{ system.hostname }}</dd>
<div style="clear:both;"></div>

<dt>Serial:</dt>
<dd>{{ system.serial }}</dd>
<div style="clear:both;"></div>

<dt>Switch Ports:</dd>
<dd>{{ system.switch_ports }}</dd>
<div style="clear:both;"></div>

<dt>Patch Panel Port:</dd>
<dd>{{ system.patch_panel_port }}</dd>
<div style="clear:both;"></div>
{% if not read_only %}
<dt>OOB Ip:</dt>
<dd>
        {% if system.oob_ip %}
            <a href="http://{{ system.oob_ip }}/">{{ system.oob_ip }}</a>
        {% endif %}
</dd>
<div style="clear:both;"></div>
{% endif %}

<dt>OOB switch &amp; port:</dt>
<dd>{{ system.oob_switch_port }}</dd>
<div style="clear:both;"></div>

<dt>Status:</dt>
<dd>{{ system.system_status }}</dd>
<div style="clear:both;"></div>

<dt>SystemRack:</dt>
<dd>{{ system.system_rack }} <b> - </b> {{ system.rack_order }}</dd>
<div style="clear:both;"></div>

<dt>Asset Tag:</dt>
<dd>{{ system.asset_tag }}</dd>
<div style="clear:both;"></div>

<dt>Date Purchased:</dt>
<dd>{{ system.purchase_date }}</dd>
<div style="clear:both;"></div>

<dt>Last Password Change:</dt>
<dd>{{ system.change_password }}</dd>
<div style="clear:both;"></div>

<dt>Purchase Price:</dt>
<dd>{{ system.purchase_price }}</dd>
<div style="clear:both;"></div>

<dt>Operating System:</dt>
<dd>{{ system.operating_system }}</dd>
<div style="clear:both;"></div>

<dt>Server Model:</dt>
<dd>{{ system.server_model }}</dd>
<div style="clear:both;"></div>

<dt>Allocated to:</dt> 
<dd>{{ system.allocation }}</dd>
<div style="clear:both;"></div>

{% if is_release %}
	<dt>Releng Distro:</dt>
		<dd>{{ system.releng_distro }}</dd>
	<div style="clear:both;"></div>
	<dt>Releng Bitlength:</dt>
		<dd>{{ system.releng_bitlength }}</dd>
	<div style="clear:both;"></div>
	<dt>Releng Purpose:</dt>
		<dd>{{ system.releng_purpose }}</dd>
	<div style="clear:both;"></div>
	<dt>Releng Trust Level:</dt>
		<dd>{{ system.releng_trustlevel }}</dd>
	<div style="clear:both;"></div>
	<dt>Releng Environment:</dt>
		<dd>{{ system.releng_environment }}</dd>
	<div style="clear:both;"></div>
	<dt>Releng Data Center:</dt>
		<dd>{{ system.releng_datacenter }}</dd>
	<div style="clear:both;"></div>
	<dt>Releng Role:</dt>
		<dd>{{ system.releng_role }}</dd>
	<div style="clear:both;"></div>
{% endif %}

{% if system.warranty_link %}
<dt>Warranty Check:</dt> 
<dd>
<a href="{{ system.warranty_link }}">Warranty Check</a>

</dd>
<div style="clear:both;"></div>
{% endif %}

{% if system.build_attribute %}
  <dt>Support Tier: </dt> 
  <dd>{{ system.build_attribute.support_tier }}</dd>
  <div style="clear:both;"></div>
  <dt>Tinderbox Tree URL: </dt> 
  <dd><%= auto_link h(@system.build_attribute.tboxtree_url) %></dd>
  <div style="clear:both;"></div>
  <dt>Repository Branch: </dt> 
  <dd>{{ system.build_attribute.cvsbranch }}</dd>
  <div style="clear:both;"></div>
  <dt>Cpu Throttled?: </dt> 
  <dd>{{ system.build_attribute.cpu_throttled }}</dd>
  <div style="clear:both;"></div>
  <dt>Product Branch: </dt> 
  <dd>{{ system.build_attribute.product_branch }}</dd>
  <div style="clear:both;"></div>
  <dt>Closes Tree?: </dt> 
  <dd>{{ system.build_attribute.closes_tree }}</dd>
  <div style="clear:both;"></div>
  <dt>Support Doc: </dt> 
  <dd><%= auto_link h(@system.build_attribute.support_doc) %></dd>
  <div style="clear:both;"></div>
{% endif %}

</div><div>

<dl class="show">
<dt>Notes: </dt>
<dd style="float:left; font-size:medium; margin: 3px 0 0 -3px;"><pre>{{ system.notes }}</pre></dd>
<div style="clear:both;"></div>
</dl>

<dl class="show">
<dt>Network Adapters: </dt>
<dd style="float:left; font-size:medium; margin: 3px 0 0 -3px;">
<pre>
    {{ adapter }} 
    <table>
    <tr><th>Adapter Name</th><th>IP Address</th><th>Mac Address</th></tr>
    {% for adapter in adapters %}
        <tr><td>{{adapter.adapter_name}}</td><td>{{ adapter.ipv4_address }}</td><td>{{ adapter.mac_address }}</td></tr>

    {% endfor %}
    </table>

</pre></dd>
<div style="clear:both;"></div>
</dl>

<dl class="show">
<dt>Interfaces (for DNS): </dt>
<dd style="float:left; font-size:medium; margin: 3px 0 0 -3px;"><pre>{{ system.notes }}</pre></dd>
<pre>
    <table>
    <tr><th>Interface Name</th><th>FQDN</th><th>IP Address</th><th>DHCP Enabled</th><th>DNS Enabled</th><th>Action</th></tr>
    {% for intr in interfaces %}
        <tr>
        <td>{{ intr.interface_name() }}</td>
        {% if intr.label == "" %}
        <td><a href='{{ intr.domain.get_absolute_url() }}'>{{intr.fqdn}}</a></td>
        {% else %}
        <td>{{ intr.label }}.<a href='{{ intr.domain.get_absolute_url() }}'>{{ intr.domain }}</a></td>
        {% endif %}
        <td><a href='{{ intr.reverse_domain.get_absolute_url() }}'>{{ intr.ip_str }}</a></td>
        <td>{{ intr.dhcp_enabled }}</td>
        <td>{{ intr.dns_enabled }}</td>
        <td></pre><a href='{{ intr.get_edit_url() }}'>Edit</a> <a href='{{ intr.get_delete_url() }}'>Delete</a><pre></td>
        <tr>
    {% endfor %}
    </table>
</pre></dd>
<div style="clear:both;"></div>
<a href="/core/interface/{{system.pk}}/create/">Add Interface</a>
<a href="/core/interface/{{system.pk}}/quick_create/">Quick Add Interface</a>
</dl>

</div>
{% if not read_only %}
<div>

    <dl class="show">
        <dt>Licenses: </dt>
        <dd style="float:left; font-size:medium; margin: 3px 0 0 -3px;"><pre>{{ system.licenses }}</pre></dd>
        <div style="clear:both;"></div>
    </dl>
</div>
{% endif %}

<div style="clear:both;"></div>
{% if not read_only %}
<a href="{{ "systems.views.system_edit"|url(system.id) }}">Edit</a>
{% endif %}
<a href="{{ "systems.views.home"|url() }}">Back</a>
{% endblock %}
