{% extends "base/list.html" %}

{% block title %}
    {{ record_type|prettify_record_type + "s" }}
{% endblock %}

{% block header %}
    {{ record_type|prettify_record_type + "s" }}
{% endblock %}

{% block sidebar %}
  {% include "cydns/includes/cydns_sidebar.html" %}
{% endblock %}

{% block action_bar %}
    <input type="button" id="record-create" value="Create {{ a_or_an(record_type) }} {{ record_type|prettify_record_type }}">
    <input type="button" id="record-search" value="Update {{ a_or_an(record_type) }} {{ record_type|prettify_record_type }}">
    <input type="button" id="record-search-soa" value="View BIND File">
{% endblock %}

{% block form %}
  <span id="cydns-record"
        data-recordType="{{ record_type }}"
        data-searchUrl="{{ url('cydns-search-record') }}"
        data-getUrl="{{ url('cydns-get-record') }}"
        data-domainsUrl="{{ url('get-all-domains') }}">
  </span>

  <div id="search-dialog" class="hidden">
    <div>
      <label for="search-record">
        Search: <input type="text" id="record-searchbox" style="width: 400px;" value="">
      </label>
    </div>
  </div>
  <div id="search-soa-dialog" class="hidden">
    <div>
      <label for="soa-search">
        Search: <input type="text" id="soa-searchbox" style="width: 400px;" value="">
      </label>
    </div>
  </div>

  <div {% if not form.errors %}class="hidden"{% endif %} id="cydns-record-form">
    <form method="POST">
      <h2 id="record-form-title"></h2>
      <div class="inner-form">
        {{ form.as_p() }}
      </div>
      <input type="submit" value="Submit"></input>
    </form>
  </div>

  {{ js('cydns') }}
{% endblock %}
