{% extends "base/base.html" %}
{% from "base/tables.html" import render_table %}

{% block title %}{{ model_name|humanized_model_name + 's'}}{% endblock %}
{% block header %}{{ model_name|humanized_model_name + 's'}}{% endblock %}

{% block action_bar %}
  <a class="btn" href="{{ Model.get_create_url() }}">
    Create {{ model_name|humanized_model_name }}
  </a>
{% endblock %}

{% block content %}
  {% block form %}{% endblock %}

  {% if page_obj %}
    {% include "base/includes/pagination.html" %}
  {% endif %}

  {% if object_list and has_attr(object_list[0], 'eg_metadata') %}
    <span id="eg" data-metadata="{{ object_list[0].eg_metadata()|to_json }}"></span>
    <form id="enable-eg">
      <input type="checkbox" name="eg" id="enable-eg-check">
      <label for="enable-eg-check"> Enable spreadsheet view</label>
    </form>
  {% endif %}

  {% if object_table %}
    {{ render_table(object_table) }}
  {% else %}
    {% include "base/includes/object_table.html" %}
  {% endif %}

  {{ js('tables') }}

{% endblock %}
